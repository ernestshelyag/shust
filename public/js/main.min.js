function header(){$(window).scroll(function(){70<$(window).scrollTop()?$(".header-top__info-block").slideUp():$(".header-top__info-block").slideDown(),70<$(window).scrollTop()&&$(".sidebar").hasClass("active")&&$("#burger-btn").click()}),70<$(window).scrollTop()&&$(".header-top__info-block").hide(),$("#burger-btn").click(function(){$(".burger__lines-block, .burger__mid-line, .sidebar, .sidebar__link").toggleClass("active")}),$(".sidebar").click(function(){$("#burger-btn").click()})}function questions(){$("body").on("click",".questions li",function(){$(".questions li").not($(this)).removeClass("active"),$(".questions p").slideUp(600),$(this).hasClass("active")?($(".questions li").removeClass("active"),$(".questions p").slideUp(600)):($(this).addClass("active"),$(this).children("p").slideDown(600))})}function select(){var e,s,t,r,o,i,n;for(e=document.getElementsByClassName("custom-select"),s=0;s<e.length;s++){for(r=e[s].getElementsByTagName("select")[0],(o=document.createElement("DIV")).setAttribute("class","select-selected"),o.innerHTML=r.options[r.selectedIndex].innerHTML,e[s].appendChild(o),(i=document.createElement("DIV")).setAttribute("class","select-items select-hide"),t=1;t<r.length;t++)(n=document.createElement("DIV")).innerHTML=r.options[t].innerHTML,n.addEventListener("click",function(e){var s,t,r,o,i;for(o=this.parentNode.parentNode.getElementsByTagName("select")[0],i=this.parentNode.previousSibling,t=0;t<o.length;t++)if(o.options[t].innerHTML==this.innerHTML){for(o.selectedIndex=t,i.innerHTML=this.innerHTML,s=this.parentNode.getElementsByClassName("same-as-selected"),r=0;r<s.length;r++)s[r].removeAttribute("class");this.setAttribute("class","same-as-selected");break}i.click()}),i.appendChild(n);e[s].appendChild(i),o.addEventListener("click",function(e){e.stopPropagation(),a(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function a(e){var s,t,r,o=[];for(s=document.getElementsByClassName("select-items"),t=document.getElementsByClassName("select-selected"),r=0;r<t.length;r++)e==t[r]?o.push(r):t[r].classList.remove("select-arrow-active");for(r=0;r<s.length;r++)o.indexOf(r)&&s[r].classList.add("select-hide")}document.addEventListener("click",a),$(".select-selected").click(function(){$(this).addClass("col")})}function sendForm(){$("input[type=email]").on("input",function(){/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i.test($(this).val())?($(this).parent().removeClass("form-err"),$(this).parent().addClass("form-correct")):($(this).parent().removeClass("form-correct"),$(this).parent().addClass("form-err"))}),$("input[type=password], input[type=text]").on("input",function(){""!==$(this).val()?($(this).parent().removeClass("form-err"),$(this).parent().addClass("form-correct")):$(this).parent().removeClass("form-correct")}),$(".modal__input_phone, .callback__input_phone, .contacts__input_phone").inputmask({mask:"+7(999)999-99-99",showMaskOnHover:!1}),$(".modal__input_phone, .callback__input_phone, .contacts__input_phone").on("input",function(){/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{3,10}$/.test($(this).val())?($(this).parent().removeClass("form-err"),$(this).parent().addClass("form-correct")):($(this).parent().removeClass("form-correct"),$(this).parent().addClass("form-err"))}),$("#form-enter").submit(function(e){var s=$(this).find(".modal__input_mail"),t=$(this).find(".modal__input_pass"),r=!1,o=$(this).serializeArray();e.preventDefault(),s.parent().hasClass("form-correct")&&""!==s.val()?""===t.val()?(t.parent().addClass("form-err"),r=!0):r=!1:(s.parent().addClass("form-err"),r=!0),r||$.ajax({url:"/",type:"post",dataType:"json",data:o,success:function(){$("#form-enter")[0].reset(),s.parent().removeClass(".form-correct"),t.parent().removeClass(".form-correct"),console.log("видимо дальше запрос на сервер - проверка логин-пароля и вход")}})}),$("#form-reg").submit(function(e){var s=$(this).find(".modal__input_name"),t=$(this).find(".modal__input_mail"),r=$(this).find(".modal__input_pass"),o=!1,i=$(this).serializeArray();e.preventDefault(),""===s.val()?(s.parent().addClass("form-err"),o=!0):t.parent().hasClass("form-correct")&&""!==t.val()?""===r.val()?(r.parent().addClass("form-err"),o=!0):o=!1:(t.parent().addClass("form-err"),o=!0),o||$.ajax({url:"/",type:"post",dataType:"json",data:i,success:function(){$("#form-reg")[0].reset(),s.parent().removeClass(".form-correct"),t.parent().removeClass(".form-correct"),r.parent().removeClass(".form-correct"),console.log("видимо дальше запрос на сервер - регистрация")}})}),$(".modal__form_appointment").submit(function(e){var s=$(this).find(".modal__input_name"),t=$(this).find(".modal__input_phone"),r=!1,o=$(this).serializeArray();e.preventDefault(),""===s.val()?(s.parent().addClass("form-err"),r=!0):t.parent().hasClass("form-correct")&&""!==t.val()?r=!1:(t.parent().addClass("form-err"),r=!0),r||$.ajax({url:"/",type:"post",dataType:"json",data:o,success:function(){$(".modal__form_appointment")[0].reset(),s.parent().removeClass(".form-correct"),t.parent().removeClass(".form-correct"),$.magnificPopup.open({items:{src:"#success-popup"}})}})}),$(".callback__form_callback").submit(function(e){var s=$(this).find(".callback__input_phone"),t=!1,r=$(this).serializeArray();e.preventDefault(),s.parent().hasClass("form-correct")&&""!==s.val()?t=!1:(s.parent().addClass("form-err"),t=!0),t||$.ajax({url:"/",type:"post",dataType:"json",data:r,success:function(){$(".callback__form_callback")[0].reset(),s.parent().removeClass(".form-correct"),$.magnificPopup.open({items:{src:"#success-popup"}})}})}),$(".contacts__form").submit(function(e){var s=$(this).find(".contacts__input_name"),t=$(this).find(".contacts__input_phone"),r=!1,o=$(this).serializeArray();e.preventDefault(),""===s.val()?(s.parent().addClass("form-err"),r=!0):t.parent().hasClass("form-correct")&&""!==t.val()?r=!1:(t.parent().addClass("form-err"),r=!0),r||$.ajax({url:"/",type:"post",dataType:"json",data:o,success:function(){$(".contacts__form")[0].reset(),s.parent().removeClass(".form-correct"),t.parent().removeClass(".form-correct"),$.magnificPopup.open({items:{src:"#success-popup"}})}})})}function students(){$(".students__pdf-title").click(function(){$(".students__pdf-title").not($(this)).removeClass("active"),$(".students__items-hiding").slideUp(600),$(this).hasClass("active")?($(".students__pdf-title").removeClass("active"),$(".students__items-hiding").slideUp(600)):($(this).addClass("active"),$(this).next(".students__items-hiding").slideDown(600))}),$("[data-tab]").on("click",function(){$(this).addClass("active").siblings("[data-tab]").removeClass("active"),$("[data-content="+$(this).data("tab")+"]").addClass("active").siblings("[data-content]").removeClass("active")})}function diplomSlider(){$(".diplom-slider__slider").slick({slidesToShow:5,slidesToScroll:1,arrows:!0,dots:!1,appendArrows:".diplom-slider__arrs",prevArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-prev">\n               <use xlink:href="\'+sliderarrs+\'#arr-prev"></use>\n             </svg>           </button>',nextArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-next">\n               <use xlink:href="\'+sliderarrs+\'#arr-next"></use>\n             </svg>           </button>',responsive:[{breakpoint:1e3,settings:{slidesToShow:4}},{breakpoint:712,settings:{slidesToShow:3}},{breakpoint:528,settings:{slidesToShow:2}}]})}function heroSlider(){$(".hero-slider-text").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".hero-slider-img",arrows:!1,dots:!0,autoplay:!0,autoplaySpeed:5e3,appendDots:".hero-slider__dots",prevArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-prev">\n               <use xlink:href="\'+sliderarrs+\'#arr-prev"></use>\n             </svg>           </button>',nextArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-next">\n               <use xlink:href="\'+sliderarrs+\'#arr-next"></use>\n             </svg>           </button>'}),$(".hero-slider-img").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".hero-slider-text",dots:!1,arrows:!1,fade:!0,speed:1e3,cssEase:"linear"})}function modals(){$(".header-top__enter").magnificPopup({type:"inline",preloader:!1,removalDelay:300,mainClass:"my-mfp-animate",focus:".modal__input_mail",callbacks:{beforeOpen:function(){$(window).width()<700?this.st.focus=!1:this.st.focus=".modal__input_mail"}}}),$(".hero-slider-text__btn,.test-block__btn,.modal__reg,.price__top-btn,.price-item__btn").magnificPopup({type:"inline",preloader:!1,removalDelay:300,mainClass:"my-mfp-animate",focus:".modal__input_name",callbacks:{beforeOpen:function(){$(window).width()<700?this.st.focus=!1:this.st.focus=".modal__input_name"}}}),$(".btn-play, body .video li a, .review__slider_video a").magnificPopup({mainClass:"my-mfp-video",removalDelay:300,disableOn:700,type:"iframe",preloader:!1})}function reviewSliders(){$(".review__slider_video").slick({slidesToShow:3,slidesToScroll:1,arrows:!0,dots:!1,appendArrows:".review__arrs_v",prevArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-prev">\n               <use xlink:href="\'+sliderarrs+\'#arr-prev"></use>\n             </svg>           </button>',nextArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-next">\n               <use xlink:href="\'+sliderarrs+\'#arr-next"></use>\n             </svg>           </button>',responsive:[{breakpoint:1045,settings:{slidesToShow:2}},{breakpoint:568,settings:{slidesToShow:1}}]}),$(".review__slider_text").slick({slidesToShow:2,slidesToScroll:1,arrows:!0,dots:!1,appendArrows:".review__arrs_t",prevArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-prev">\n               <use xlink:href="\'+sliderarrs+\'#arr-prev"></use>\n             </svg>           </button>',nextArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-next">\n               <use xlink:href="\'+sliderarrs+\'#arr-next"></use>\n             </svg>           </button>',responsive:[{breakpoint:960,settings:{slidesToShow:1}}]})}function workWithSlider(){$(".work-with__slider").slick({slidesToShow:4,slidesToScroll:1,arrows:!0,dots:!1,appendArrows:".work-with__arrs",prevArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-prev">\n               <use xlink:href="\'+sliderarrs+\'#arr-prev"></use>\n             </svg>           </button>',nextArrow:'<button type="button" class="slick-prev">             <svg class="sprite__icon icon arr-next">\n               <use xlink:href="\'+sliderarrs+\'#arr-next"></use>\n             </svg>           </button>',responsive:[{breakpoint:1180,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:450,settings:{slidesToShow:1}}]})}$(window).on("load",function(){$("body").show(),$(".preloader").delay(100).fadeOut("slow")}),$(function(){header(),heroSlider(),workWithSlider(),reviewSliders(),diplomSlider(),students(),questions(),modals(),sendForm(),select()});